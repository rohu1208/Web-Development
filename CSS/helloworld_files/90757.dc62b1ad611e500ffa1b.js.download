"use strict";(self.webpackChunkcodeneuron_templates=self.webpackChunkcodeneuron_templates||[]).push([[90757],{29315:(e,t,n)=>{n.d(t,{C:()=>P});n(47941),n(82526),n(57327),n(41539),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(15861),s=n(4942),a=n(64687),o=n.n(a),i=(n(26699),n(32023),n(74916),n(15306),n(21703),n(96647),n(70538)),c=n(29225),u=n(9669),l=n.n(u),d=n(46536),f=n(68485),p=n(1354),h=n(64041);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=(0,i.reactive)({id:"",type:"",state:{},action:"",subject:"",endpoint:"",challenges:[],is_granted:!1,purpose:""}),m=(0,i.ref)([]),b=(0,i.reactive)({totp:{id:"",is_enabled:!1,is_notifiable:!1},email:{id:"",is_enabled:!1,is_notifiable:!0},backup_code:{id:"",is_enabled:!1,is_notifiable:!0}}),y=(0,i.ref)(!1),O=(0,i.ref)(!1),_=(0,i.ref)(!1),k=(0,i.ref)(!1);function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l(),t=(0,p.b)("two_factor_authentication"),n=t.t;window.ADMIN_PAGE&&(e=d.ZP);var s=function(e){return e.includes("-")?e:e.replace(/.{4}(?=.)/g,"$&-")},a=function(e){var t;null!==(t=e.state)&&void 0!==t&&t.secret&&(e.state.secret=s(e.state.secret)),w.id=e.id,w.type=e.type,w.state=e.state,w.action=e.action,w.subject=e.subject,w.endpoint=e.endpoint,w.challenges=e.challenges,w.is_granted=e.is_granted,w.purpose=e.purpose},u=function(){a({id:"",state:{},action:"",subject:"",endpoint:"",challenges:[],is_granted:!1,purpose:""})},g=function(){a(v(v({},w),{},{challenges:[]}))},P=function(e){m.value=e},E=(0,i.ref)(""),j=function(){y.value=!1,O.value=!1,k.value=!1,_.value=!1},T=function(e){e.totp&&(b.totp=e.totp),e.email&&(b.email=e.email),e.backup_code&&(b.backup_code=e.backup_code)},S=(0,i.computed)((function(){var e;return window.me?window.me.email:null!==(e=window.TWO_FACTOR_STATE.user_email)&&void 0!==e?e:""})),Z=function(){(0,h.c)(f.zG.WARNING,"",n("error_challenge_cooldown"),[{name:n("ok","common")}])},C=function(){(0,h.c)(f.zG.SUCCESS,"",n("code_sent").replace("{{user.email}}",S.value),[{name:n("ok","common")}])},A=function(){var t=(0,r.Z)(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.B)(e.get("".concat(window.server,"auth/2fa/channels")));case 2:n=t.sent,r=n.data.data,T(r.channels);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=(0,r.Z)(o().mark((function t(n){var r,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.B)(e.post("".concat(window.server,"auth/2fa/permit"),{permit_id:n}));case 2:r=t.sent,s=r.data.data,a(s.permit);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=(0,r.Z)(o().mark((function t(n){var r,s,i,u,l=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]&&l[1],s={channel_id:n,permit_id:w.id,is_resend:r},t.next=4,(0,c.B)(e.post("".concat(window.server,"auth/2fa/request-permit-challenge"),s));case 4:if(i=t.sent,u=i.data.data,!i.isErrorCodeExists("tfa_error_challenge_cooldown")||!r){t.next=10;break}return E.value=u.cooldown_in_seconds,Z(),t.abrupt("return");case 10:a(u.permit),"email"===n&&r&&(j(),C());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(){var t=(0,r.Z)(o().mark((function t(n){var r,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.B)(e.post("".concat(window.server,"auth/2fa/request-action-permit"),{action:n}));case 2:if(r=t.sent,s=r.data.data,!r.isBad){t.next=6;break}return t.abrupt("return");case 6:a(s.permit);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=(0,r.Z)(o().mark((function t(n){var r,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.B)(e.post("".concat(window.server,"auth/2fa/setup"),{channel_id:n}));case 2:r=t.sent,s=r.data.data,a(s.permit);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=(0,r.Z)(o().mark((function t(n){var r,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.B)(e.post("".concat(window.server,"/auth/2fa/disable"),{channel_id:n}));case 2:r=t.sent,s=r.data.data,a(s.permit);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=(0,r.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.B)(e.post("".concat(window.server,"/auth/2fa/reset"),{user_id:n})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=(0,r.Z)(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.B)(e.get("".concat(window.server,"/auth/2fa/request-backup-codes")));case 2:n=t.sent,r=n.data.data,a(r.permit);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=(0,r.Z)(o().mark((function t(n){var r,s,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==n.solution){t.next=3;break}return _.value=!0,t.abrupt("return");case 3:return t.next=5,(0,c.B)(e.post("".concat(window.server,"auth/2fa/verify"),{challenge:n}));case 5:if(s=t.sent,i=s.data.data,!s.isErrorCodeExists("tfa_error_invalid_challenge_solution")){t.next=10;break}return y.value=!0,t.abrupt("return");case 10:if(!s.isErrorCodeExists("tfa_error_challenge_has_expired")){t.next=13;break}return O.value=!0,t.abrupt("return");case 13:if(!s.isErrorCodeExists("tfa_error_max_attempts_reached")){t.next=17;break}return y.value=!1,k.value=!0,t.abrupt("return");case 17:if(a(i.permit),P(null!==(r=i.backup_codes)&&void 0!==r?r:[]),w.is_granted){t.next=21;break}return t.abrupt("return");case 21:return"user-authenticate"===w.action&&"backup_code"!==n.channel_id&&window.location.reload(),t.next=24,A();case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=(0,i.computed)((function(){return"access"===w.type})),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.purpose===e},B=(0,i.computed)((function(){return w.is_granted})),K=(0,i.computed)((function(){return 0===w.challenges.length?{}:w.challenges[0]})),N=function(){var e=window.TWO_FACTOR_STATE;e&&0!==e.length&&a(e.permit)},G=function(){if(!window.TWO_FACTOR_SITE_SETTINGS)throw Error("Two-factor site settings are not available.");return window.TWO_FACTOR_SITE_SETTINGS},W=function(){if(!window.TWO_FACTOR_ACCOUNT_SETTINGS)throw Error("Two-factor site settings are not available.");return window.TWO_FACTOR_ACCOUNT_SETTINGS},$=(0,i.computed)((function(){return!!window.me.user_two_factor_settings.is_enabled}));return{permit:w,challenge:K,userEmail:S,channels:b,setPermit:a,setChannels:T,resetPermit:u,resetPermitChallenge:g,fetchChannels:A,fetchPermitById:x,isAccessPermit:z,fetchSetupChannelPermit:D,fetchDisableChannelPermit:F,fetchBackupCodesRequest:R,fetchActionPermit:M,submitChallengeSolution:q,errorInvalidChallengeSolution:y,errorMaxAttemptsReached:k,errorChallengeExpired:O,errorEmptyVerificationCode:_,fetchPermitChallengeRequest:U,isPurposeOfPermit:L,backupCodes:m,getTwoFactorUserStateFromWindow:N,isPermitGranted:B,getSiteSettingsFromWindow:G,resetErrors:j,getAccountSettingsFromWindow:W,fetchResetUserTwoFactor:I,isAccountTwoFactorEnabled:$}}},60741:(e,t,n)=>{n.d(t,{XW:()=>P,xU:()=>j,Fz:()=>g,OL:()=>Z,qy:()=>y,jE:()=>b,h8:()=>_,ac:()=>U,jQ:()=>M,CP:()=>F,vv:()=>D,mc:()=>v,il:()=>S});var r=n(15861),s=n(64687),a=n.n(s),o=(n(41539),n(88674),n(17727),n(69600),n(21249),n(47941),n(92741)),i=n(93949),c=n(41162),u=n(68485),l=n(4942);n(92222);function d(e,t){var n,r;return null!==(r=(n={},(0,l.Z)(n,u.OD.PASSED,{title:"Approve signup request".concat(t?"s":""),subtitle:"Are you sure you want to allow ".concat(t?"these users":"this user"," to access your school?"),buttonLabel:"Approve"}),(0,l.Z)(n,u.OD.REJECTED,{title:"Reject signup request".concat(t?"s":""),subtitle:"Are you sure you want to reject ".concat(t?"these users' requests":"this user's request"," to access your school?"),buttonLabel:"Reject"}),(0,l.Z)(n,u.OD.PENDING,{title:"Revert back to pending",subtitle:"Are you sure you want to revert ".concat(t?"these users' access requests":"this user's access request"," back to pending?\n"),buttonLabel:"Back to pending"}),n)[e])&&void 0!==r?r:{}}function f(e,t){var n,r;return null!==(r=(n={},(0,l.Z)(n,u.OD.PASSED,{title:"Access request".concat(t?"s":""," approved"),subtitle:"".concat(t?"These users":"This user"," can now access your school.")}),(0,l.Z)(n,u.OD.REJECTED,{title:"Access request".concat(t?"s":""," rejected"),subtitle:"".concat(t?"These users' requests":"This user's request"," to access your school ").concat(t?"have":"has"," been rejected.")}),(0,l.Z)(n,u.OD.PENDING,{title:"Reverted to pending",subtitle:"".concat(t?"These users' requests":"This user's request"," to access your school ").concat(t?"have":"has"," been reverted back to pending.")}),n)[e])&&void 0!==r?r:{}}var p=n(29315),h=n(64041),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"closeManageUserSidebar";e.$root.$emit(t)},v=function(e,t,n){!0===t?showMessage("alert","User Suspend",'Do you really want to suspend user <span class="weglot-exclude">'.concat(n.username,"</span>?"),[{name:"Suspend",func:w,class:"solid",args:[e,n.id,t]},{name:"Cancel"}]):showMessage("alert","User Un-Suspend",'Do you really want to un-suspend this user <span class="weglot-exclude">'.concat(n.username,"</span>?"),[{name:"Unsuspend",func:w,args:[e,n.id,t]},{name:"Cancel"}])};function w(e,t,n){var r=server+"author/user/"+t+"/"+(!0===n?"suspend":"role-user");o.Z.post(r).then((function(e){if(e.data.errors&&e.data.errors.length>0)return showMessage("alert","Failed to suspend/unsuspend account",e.data.errors.map((function(e){return e.message})).join(", "),[{name:"OK"}]);S()})).catch((function(e){showMessage("alert","Failed to suspend/unsuspend account",e.message,[{name:"OK"}])})).finally((function(){return g(e)}))}function m(e,t){window.broadcastEvent({action:"save"},!0);o.Z.post("".concat(server,"author/bulk/send_email_verification"),t).then((function(t){!function(e){if(e.data.errors&&e.data.errors.length>0)throw e.data.errors.map((function(e){return e.message})).join(", ")}(t),null!==e&&e.clearUserSelectionAndUncheckUsers();var n=window.authorController.redirectTo;return e&&!e.$lwGates.hasActivityViewPermission()&&(n=function(){return showMessage("info","User actions log","You have no access to proceed. To access this page, the “View activity log” permission is required.",[{name:"OK"}])}),window.broadcastEvent({action:"asyncMassImportInProgress",payload:{id:t.data.importLogId}}),showMessage("success","Resend verification","Verification emails are being sent. You will be notified when finished",[{name:"OK"},{name:"Go to user actions log",func:n,args:["/author/activities?tab=user-actions"]}])})).catch((function(e){showMessage("alert","Failed to send verification emails",e,[{name:"OK"}])})).finally((function(){return window.broadcastEvent({action:"saveFinished"},!0)}))}var b=function(e,t){var n,r=t?t.user_ids:[],s=function(){var e=r.length;return 0!==e&&1===e},a="this user?",o="these users?",i="these users?";showMessage("alert","Resend verification email",'Are you sure you want to resend the verification email to <span class="weglot-exclude">'.concat(s()?a:(n=t.user_filters||{},1===Object.keys(n).length&&n.hasOwnProperty("pending_verification")&&"pending_verification"===n.pending_verification?o:s()?void 0:i),"</span>"),[{name:"Resend",func:m,args:[e,t]},{name:"Cancel"}])},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(""!==n)showMessage("alert","Resend activation email","Are you sure you want to resend the activation email to this user?",[{name:"Resend",func:O,args:[e,t,n],class:"solid"},{name:"Cancel"}]);else{var r="";r=1===Object.keys(t.userFilters||{}).length&&t.userFilters.never_logged_in?'all "Never Logged In" users?':"selected users?",showMessage("alert","Resend activation email","Are you sure you want to resend the activation email to "+r,[{name:"Resend",func:O,args:[e,t,n],class:"solid"},{name:"Cancel"}])}};function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";""!==n&&(t.userIds=[n]),window.broadcastEvent({action:"save"},!0),o.Z.post(server+"author/import/reminder",t).then((function(t){if(t.data.errors&&t.data.errors.length>0)throw t.data.errors.map((function(e){return e.message})).join(", ");null!==e&&e.clearUserSelectionAndUncheckUsers();var n=window.authorController.redirectTo;return e.$lwGates.hasActivityViewPermission()||(n=function(){return showMessage("info","User actions log","You have no access to proceed. To access this page, the “View activity log” permission is required.",[{name:"OK"}])}),window.broadcastEvent({action:"asyncMassImportInProgress",payload:{id:t.data.importLogId}}),showMessage("success","Resend activation","Activation emails are being send. You will be notified when finished",[{name:"OK"},{name:"Go to user actions log",func:n,args:["/author/activities?tab=user-actions"]}])})).catch((function(e){showMessage("alert","Failed to send activation emails",e,[{name:"OK"}])})).finally((function(){return window.broadcastEvent({action:"saveFinished"},!0)}))}var _=function(e,t){showMessage("alert","Password Reset","Do you really want to reset password? An email will also be sent to the related user.",[{name:"Reset",func:k,args:[e,t],class:"solid"},{name:"Cancel",func:g,args:[e]}],{"#alert":"wide"})};function k(e,t){o.Z.post(server+"author/user/"+t+"/password-reset").then((function(e){if(e.data.errors&&e.data.errors.length>0)return showMessage("alert","Error resetting user password",e.data.errors.map((function(e){return e.message})).join(", "),[{name:"OK"}]);showMessage("info","Reset Password","A reset password email has been sent to the user",[{name:"OK"}])})).catch((function(e){showMessage("alert","Error resetting user password",e.message,[{name:"OK"}])})).finally((function(){e.$root.$emit("closeManageUserSidebar")}))}var P=function(e,t){showMessage("alert","User Anonymize","Do you really want to anonymize user "+t.username+"?",[{name:"Anonymize",func:E,class:"solid",args:[e,t.id]},{name:"Cancel"}])};function E(e,t){var n=server+"author/user/"+t+"/anonymize";o.Z.post(n).then((function(e){if(e.data.errors&&e.data.errors.length>0)return showMessage("alert","Failed to anonymize account",e.data.errors.map((function(e){return e.message})).join(", "),[{name:"OK"}]);S()})).catch((function(e){showMessage("alert","Failed to anonymize account",e.message,[{name:"OK"}])})).finally((function(){return g(e)}))}var j=function(e,t){showMessage("alert","User Permanent Delete",'Do you really want to permanently delete user <span class="weglot-exclude">'.concat(t.username,"?</span> This action is not reversible."),[{name:"Delete User Account",func:T,args:[e,t.id],class:"solid"},{name:"Cancel"}])};function T(e,t){var n=server+"author/user/"+t+"/destroy";o.Z.post(n).then((function(e){if(e.data.errors&&e.data.errors.length>0)return showMessage("alert","Failed to delete account",e.data.errors.map((function(e){return e.message})).join(", "),[{name:"OK"}]);S()})).catch((function(e){showMessage("alert","Failed to delete account",e.message,[{name:"OK"}])})).finally((function(){return g(e)}))}var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skipLoader,n=document.getElementById("contentHolder");if(null===n&&(n=parent.document.getElementById("contentHolder")),null!==n){var r=n.contentWindow;r.postMessage({action:"updateUsersList",silentLoading:t},window.top.document.location.href)}},Z=function(e,t){showMessage("alert","Reset 2FA","Are you sure you want to reset two-factor authentication for this user?",[{name:"Reset",func:C,args:[e,t.id]},{name:"Cancel"}])};function C(e,t){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(a().mark((function e(t,n){var r,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,p.C)(),s=r.fetchResetUserTwoFactor,e.next=3,s(n);case 3:if(!(o=e.sent).isBad){e.next=6;break}return e.abrupt("return",showMessage("alert","Failed to reset 2fa",o.response.data.errors.map((function(e){return e.message})).join(", "),[{name:"OK"}]));case 6:(0,h.c)(u.zG.INFORM,"2FA reset","You have successfully reset 2FA for this user.",[{name:"OK"}],[],{timeout:!1},!0),S(),g(t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){var e=(0,r.Z)(a().mark((function e(t,n,r){var s,o,l,d,p,h,v,w=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=w.length>3&&void 0!==w[3]&&w[3],o=w.length>4&&void 0!==w[4]?w[4]:null,l=w.length>5&&void 0!==w[5]?w[5]:0,e.prev=3,window.broadcastEvent({action:"save"},!0),d=s?c.Z.postEligibilityStatusForAllUsers:c.Z.postEligibilityStatusForSpecifiedUsers,e.next=8,(0,i.jk)(d(u.mq.SIGN_UP,n,r,o));case 8:S(),p=f(n,l>1),h=p.title,v=p.subtitle,window.showMessage(u.zG.SUCCESS,h,v,[{name:"OK"}]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:return e.prev=16,window.broadcastEvent({action:"saveFinished"},!0),g(t),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[3,13,16,20]])})));return function(t,n,r){return e.apply(this,arguments)}}(),U=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return new Promise((function(o){var i=d(t,a>1),c=i.title,u=i.subtitle,l=i.buttonLabel;window.showMessage("alert",c,u,[{name:l,func:function(){x(e,t,n,r,s,a).then((function(){return o({proceeded:!0})}))},class:"solid"},{name:"Cancel",func:function(){return o({proceeded:!1})}}])}))},M=function(e,t){var n=server+"user-roles/impersonate/start/"+t;o.Z.post(n).then((function(t){if(t.data.errors&&t.data.errors.length>0)return showMessage("alert","Failed to start user impersonation",t.data.errors.map((function(e){return e.message})).join(", "),[{name:"OK"}]);var n=t.data.data.token;return e.$lwGates.startUserImpersonation(n),window.top.location.href="/"})).catch((function(e){showMessage("alert","Failed to start user impersonation",e.message,[{name:"OK"}])})).finally((function(){return g(e,"closeImpersonateUserModal")}))},D=function(e,t){showMessage("alert","Log out from "+t+"'s account","You are about to logout from user "+t+" and log in back to your account.",[{name:"Proceed",func:F,args:[e],class:"solid"},{name:"Cancel"}])};function F(e){var t=window.me.id,n=getUserToken(),r=server+"user-roles/impersonate/stop/"+t+"/"+n;return o.Z.post(r).then((function(t){if(t.data.errors&&t.data.errors.length>0)return showMessage("alert","Failed to stop user impersonation",t.data.errors.map((function(e){return e.message})).join(", "),[{name:"OK"}]);var n=t.data.data.referer;return e.$lwGates.stopUserImpersonation(),window.location.href=n})).catch((function(e){showMessage("alert","Failed to stop user impersonation",e.message,[{name:"OK"}])})).finally((function(){return g(e)}))}},64041:(e,t,n)=>{n.d(t,{c:()=>h});n(47941),n(82526),n(57327),n(38880),n(57658),n(49337),n(33321),n(69070);var r=n(4942),s=n(93433),a=(n(21249),n(79753),n(24812),n(92222),n(68309),n(89554),n(41539),n(54747),n(15671)),o=n(43144),i=(n(19601),n(63518)),c=n.n(i);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.Z)(this,e),e.instance||this.init(t),e.instance}return(0,o.Z)(e,[{key:"_checkParams",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=r?" Method signature: ".concat(r,"(message: string, title: string, options: IzitoastOptions)"):"";if(!e||e.constructor!==String)throw"Message must be a string.".concat(s);if(t&&t.constructor!==String)throw"Title must be a string.".concat(s);if(n&&n.constructor!==Object)throw"Options must be a object.".concat(s)}},{key:"_checkEventNames",value:function(e){if(!e||e.constructor!==String)throw"Event Name must be a string";if("iziToast-open"!==e&&"iziToast-close"!==e)throw"Event Name has only two possible values: iziToast-open or iziToast-close"}},{key:"_initToast",value:function(e){return e&&e.constructor!==String&&(e=document.querySelector(e)),e&&e.constructor===HTMLDivElement||(e=document.querySelector(".iziToast")),e}},{key:"_validateOptions",value:function(e){if(e&&e.constructor!==Object)throw"Options must be a object"}},{key:"_validateCallback",value:function(e){if(e&&e.constructor!==Function)throw"Callback must be a function"}},{key:"init",value:function(t){return this._izi=c(),this.options=l(l({},{zindex:99999,layout:1,balloon:!1,close:!0,closeOnEscape:!1,rtl:!1,position:"bottomRight",timeout:5e3,animateInside:!1,drag:!1,progressBar:!1,pauseOnHover:!0,resetOnHover:!1,transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}}),t),this._izi.settings(this.options),e.instance=this,e.instance}},{key:"show",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkParams(e,t,n,"show"),this._izi.show(Object.assign({},n,{message:e,title:t}))}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=this._initToast(e),this._validateOptions(t),this._izi.hide(t,e)}},{key:"progress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return e=this._initToast(e),this._validateOptions(t),this._validateCallback(n),this._izi.progress(e,t,n)}},{key:"destroy",value:function(){this._izi.destroy()}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkParams(e,t,n,"info"),this._izi.info(Object.assign({},n,{message:e,title:t}))}},{key:"success",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkParams(e,t,n,"success"),this._izi.success(Object.assign({},n,{message:e,title:t}))}},{key:"warning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkParams(e,t,n,"warning"),this._izi.warning(Object.assign({},n,{message:e,title:t}))}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkParams(e,t,n,"error"),this._izi.error(Object.assign({},n,{message:e,title:t}))}},{key:"question",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkParams(e,t,n,"question"),this._izi.question(Object.assign({},n,{message:e,title:t}))}},{key:"on",value:function(e,t){this._checkEventNames(e),this._validateCallback(t),document.addEventListener(e,t)}},{key:"off",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this._checkEventNames(e),document.removeEventListener(e,t)}}]),e}();function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c={notice:{class:"lw-notification--notice",icon:"ico-warning",maxWidth:"500px",position:"center",transitionIn:"fadeIn",transitionOut:"fadeOut",transitionInMobile:"fadeIn",transitionOutMobile:"fadeOut",type:"notice"},alert:{close:!1,timeout:!1,drag:!1,progressBar:!1,overlay:!0,position:"center",transitionIn:"fadeIn",transitionOut:"fadeOut",transitionInMobile:"fadeIn",transitionOutMobile:"fadeOut",type:"alert"},info:{class:"lw-notification--simple",icon:"ico-info",color:"author"===window.location.pathname.split("/")[1]?"blue":null,type:"info"},success:{class:"lw-notification--simple",color:"green",icon:"ico-success",type:"success"},warning:{class:"lw-notification--simple",color:"yellow",icon:"ico-warning",type:"warning"},error:{class:"lw-notification--simple",color:"red",icon:"ico-error",type:"error"}};switch(r&&(o.buttons=r.map((function(e,t){var n,r={};if(e.func){var a=e.func,o=[];if(e.args&&(o=Array.isArray(e.args)?e.args:[e.args]),"function"==typeof a){var i;a=(i=a).bind.apply(i,[null].concat((0,s.Z)(o)))}else{for(var c=a.split("."),u=c.pop(),l=window,d=0;d<c.length;d++)l=l[c[d]];a=function(){return l[u].apply(l,o)}}r.onClosing=a}var f=null!==(n=e.class)&&void 0!==n?n:"";return['<button class="'.concat(f,'"> ').concat(e.name," </button>"),function(t,n){return t.hide(r,n,e.name)},0===t]}))),e){case"notice":o=p(p({},c.notice),o);break;case"alert":o=p(p({},c.alert),o);break;case"success":o=p(p({},c.success),o);break;case"warning":o=p(p({},c.warning),o);break;case"error":o=p(p({},c.error),o);break;default:o=o=p(p({},c.info),o)}if(a&&Array.isArray(a)&&o.class&&a.forEach((function(e){o.class+=" ".concat(e)})),!i){var u=document.querySelectorAll(".iziToast-overlay , .iziToast-capsule");u.length&&u.forEach((function(e){return e.remove()}))}var l=new d;return l.show(n,t,o),l}var g="author"===window.location.pathname.split("/")[1];document.addEventListener("iziToast-opening",(function(e){var t=e.detail.type;document.querySelectorAll(".iziToast").forEach((function(e){e.dataset.view=g?"author":"user",e.dataset.type||(e.dataset.type=t)}))})),window.showMessage=h},46536:(e,t,n)=>{n.d(t,{ZP:()=>u,x7:()=>d});n(47941),n(82526),n(57327),n(41539),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942),s=(n(82772),n(26699),n(32023),n(92741));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=window.server,c=window.lw_client;s.Z.defaults.baseURL=i,s.Z.defaults.headers={accept:"application/json","Content-Type":"application/json"},s.Z.interceptors.request.use((function(e){return-1===e.url.indexOf(i)||(e.headers=o(o({},e.headers),{},{"X-Api-Version":"0.0.1"})),e}));const u=s.Z;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e||e===c)return s.Z.create();var t=s.Z.create({baseURL:"".concat(i,"author/cross-school/proxy")});return t.interceptors.request.use((function(t){return t.url.includes("http")?t:o(o({},t),{},{headers:o(o({},t.headers),{},{"X-Api-Version":"0.0.1","Lw-Target-Client":e})})})),t}function d(e,t){return o(o({},e),{},{repository:l(t)})}},41162:(e,t,n)=>{n.d(t,{Z:()=>i});n(92222);var r=n(93949),s=n(68485),a=n(46536),o={getStats:function(){return a.ZP.get("/user_stats")},postPopupStatusToUserModel:function(e,t){return a.ZP.post("/user/popup_status/".concat(e),t)},addElementTags:function(e,t,n,r){var s={baseURL:window.clientURL},a="".concat(window.server,"/user/link-action"),o=new FormData;if(o.append("baseURL",s.baseURL),o.append("id",e),o.append("elementId",t),o.append("type",n),o.append("siteTemplateId",r),o.append("_token",window.getUserToken()),navigator.sendBeacon)navigator.sendBeacon(a,o);else{var i=new XMLHttpRequest;i.open("POST",a,!1),i.send(o)}},getUsers:function(){return a.ZP.get("/users")},getUsersWithRoles:function(){return a.ZP.get("/author/users-with-roles")},getUserData:function(e,t){return a.ZP.get("/user/".concat(e),{params:t})},getEligibilityUsers:function(e,t,n){var s=(0,r.RX)(null!=n?n:{}),o=s?"?":"";return a.ZP.get("/author/users/eligibility/".concat(e,"/").concat(t).concat(o).concat(s))},postEligibilityStatusForSpecifiedUsers:function(e,t,n,r){return a.ZP.post("/author/users/eligibility/".concat(e,"/status"),{userIds:n,status:t,inverse:!1,currentStatus:r})},postEligibilityStatusForAllUsers:function(e,t,n,r){return a.ZP.post("/author/users/eligibility/".concat(e,"/status"),{userIds:n,status:t,inverse:!0,currentStatus:r})},searchUsers:function(e){return a.ZP.post("/author/users_search",e)},searchUsersByEmail:function(e){return a.ZP.post("/author/users_search_email",e)},approveUsersEligibility:function(e,t){return a.ZP.post("/author/users/eligibility/".concat(e,"/status"),{userIds:t,status:s.OD.PASSED})},rejectUsersEligibility:function(e,t){return a.ZP.post("/author/users/eligibility/".concat(e,"/status"),{userIds:t,status:s.OD.REJECTED})},getLeads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.ZP.get("/emails",{params:e})},deleteLead:function(e){return a.ZP.delete("/email/".concat(e))},forgetUserRequest:function(){return a.ZP.post("/user/forget")},editTags:function(e){return a.ZP.post("/author/users/edit-tags",e)},userDataAccessRequest:function(){return a.ZP.post("/user/data-access")},updateLanguagePreference:function(e){return a.ZP.put("/author/update-language-preference",{language:e})}};window.repo=o;const i=o},1354:(e,t,n)=>{n.d(t,{b:()=>r});n(92222);function r(e){var t=window.LWTranslate;return{i18n:t,t:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return t.get("".concat(r,".").concat(n))}}}},29225:(e,t,n)=>{n.d(t,{B:()=>f});var r=n(15861),s=n(64687),a=n.n(s),o=n(4942),i=n(15671),c=n(43144);n(47941),n(89554),n(41539),n(54747),n(26833),n(82526),n(57327),n(38880),n(57658),n(49337),n(33321),n(69070);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){function e(){(0,i.Z)(this,e),this.failure=!1,this.errors={},this.response={}}return(0,c.Z)(e,[{key:"data",get:function(){return this.response.data}},{key:"isOK",get:function(){return!1===this.hasFailed&&!1===this.hasErrors}},{key:"isBad",get:function(){return!(!this.hasFailed&&!this.hasErrors)}},{key:"hasFailed",get:function(){return!0===this.failure}},{key:"hasErrors",get:function(){return!(0===Object.keys(this.errors).length)}},{key:"guardFailure",value:function(){this.failure=!this.response.data.success}},{key:"setError",value:function(e){this.errors=e}},{key:"isErrorCodeExists",value:function(e){var t=!1;return Object.values(this.data.errors).forEach((function(n){n.code===e&&(t=!0)})),t}},{key:"setResponse",value:function(e){var t;this.response=e,this.setError(l(l({},this.errors),null===(t=e.data)||void 0===t?void 0:t.errors)),this.guardFailure()}}]),e}();function f(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new d,e.prev=1,e.next=4,t;case 4:r=e.sent,n.setResponse(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.setError(e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}},70860:(e,t,n)=>{n.d(t,{Z:()=>s});const r={name:"AuthorNoTranslate"};const s=(0,n(51900).Z)(r,(function(){return(0,this._self._c)("span",{staticClass:"weglot-exclude"},[this._t("default")],2)}),[],!1,null,null,null).exports}}]);