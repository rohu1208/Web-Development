"use strict";(self.webpackChunkcodeneuron_templates=self.webpackChunkcodeneuron_templates||[]).push([[57741],{92741:(e,s,t)=>{t.d(s,{L:()=>r,Z:()=>o});t(43371),t(41539),t(88674),t(82772);var i=t(9669),n=t.n(i),a=t(8778),r=Object.freeze({data:{success:!0,errors:[]}});n().interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),n().interceptors.request.use((function(e){var s,t,i=getUserToken(),n=a.Z.getAnonymousToken(),r=e.url.indexOf("//")>-1?e.url.indexOf(window.server)>-1:e.baseURL.indexOf(window.server)>-1;""!=i&&r&&(e.headers.Token="".concat(i)),""===i&&n&&r&&(e.headers["Anonymous-Token"]="".concat(n));var o=null!==(s=null===(t=document.querySelector("meta[name='csrf-token']"))||void 0===t?void 0:t.getAttribute("content"))&&void 0!==s?s:"";return""!==o&&r&&(e.headers["csrf-token"]=o),e}),(function(e){return Promise.reject(e)}));const o=n()},8778:(e,s,t)=>{t.d(s,{Z:()=>l});var i=t(4942),n=(t(83710),t(38862),t(47941),t(82526),t(57327),t(41539),t(38880),t(57658),t(89554),t(54747),t(49337),t(33321),t(69070),t(93949));function a(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);s&&(i=i.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?a(Object(t),!0).forEach((function(s){(0,i.Z)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var o="anonymous_token";function u(){try{var e=JSON.parse(localStorage.getItem(o)),s=e&&!function(e){return e.lastAccessed+6048e5<(new Date).getTime()}(e);return s||(e={token:(t="anon",i=(0,n._3)(),i.substring(0,i.length-t.length)+t),lastAccessed:(new Date).getTime()}),localStorage.setItem(o,JSON.stringify(r(r({},e),{},{lastAccessed:(new Date).getTime()}))),e}catch(e){return{token:null}}var t,i}const l={getAnonymousToken:function(){var e;if(null!==(e=window.me)&&void 0!==e&&e.id){try{localStorage.removeItem(o)}catch(e){console.log("Failed to remove anonymous token.")}return null}return u().token}}},54871:(e,s,t)=>{t.d(s,{Z:()=>i});const i={lwAdminRights:"LwAdminRights",dashboard:"Dashboard",liveSessionsView:"LiveSessionsView",liveSessionManage:"LiveSessionManage",liveSessionSetup:"LiveSessionSetup",courseManage:"CourseManage",courseCreateDelete:"CourseCreateDelete",coursePublish:"CoursePublish",coursePageManage:"CoursePageManage",courseContent:"CourseContent",courseSettings:"CourseSettings",courseView:"CourseView",siteManage:"SiteManage",usersTagsManage:"UsersTagsManage",usersCreate:"UsersCreate",usersAdvanced:"UsersAdvanced",usersBasic:"UsersBasic",usersUpdateProgress:"UsersUpdateProgress",usersDelete:"UsersDelete",usersSignupApproval:"UsersSignupApproval",usersView:"UsersView",usersBulk:"UsersBulk",couponsView:"CouponsView",couponsManage:"CouponsManage",planPromotionsView:"PlanPromotionsView",planPromotionsManage:"PlanPromotionsManage",bundlesView:"BundlesView",bundlesManage:"BundlesManage",subscriptionsView:"SubscriptionsView",subscriptionsManage:"SubscriptionsManage",leadsView:"LeadsView",leadsManage:"LeadsManage",affiliatesManage:"AffiliatesManage",affiliateMarketing:"AffiliateMarketing",analyticsView:"AnalyticsView",analyticsExport:"AnalyticsExport",analyticsAllCoursesInsightsView:"AnalyticsAllCoursesInsightsView",analyticsCourseInsightsView:"AnalyticsCourseInsightsView",scheduleReportsManage:"ScheduleReportsManage",gradebookManage:"GradebookManage",gradebookView:"GradebookView",certificatesManage:"CertificatesManage",certificatesView:"CertificatesView",assignmentsManage:"AssignmentsManage",assignmentsView:"AssignmentsView",questionBankManage:"QuestionBankManage",salesManage:"SalesManage",salesView:"SalesView",activityView:"ActivityView",translationsManage:"TranslationsManage",settingsIntegrationManage:"SettingsIntegrationManage",settingsWebhooksManage:"SettingsWebhooksManage",settingsFinancialManage:"SettingsFinancialManage",settingsNotificationManage:"SettingsNotificationManage",settingsSchoolManage:"SettingsSchoolManage",settingsResourcesManage:"SettingsResourcesManage",settingsMobileManage:"SettingsMobileManage",userRolesManage:"UserRolesManage",userLoginAs:"UserLoginAs",userSegmentsManage:"UserSegmentsManage",courseSettingsAdvanced:"CourseSettingsAdvanced",blogSetup:"BlogSetup",siteSettingsManage:"SiteSettingsManage",settingsNotificationEmailsManage:"SettingsNotificationEmailsManage",assessmentSurveyManage:"AssessmentSurveyManage",npsManage:"NpsManage",npsView:"NpsView",qualificationManage:"QualificationManage",seatsOfferingManage:"SeatsOfferingManage",seatsOfferingView:"SeatsOfferingView",seatsUsersManage:"SeatsUsersManage",seatsUsersView:"SeatsUsersView",emailsManage:"EmailsManage",emailsView:"EmailsView",communityManage:"CommunityManage",communitySpacesManage:"CommunitySpacesManage",communityPostsManage:"CommunityPostsManage",communitySettingsManage:"CommunitySettingsManage"}},57741:(e,s,t)=>{t.d(s,{Z:()=>f});t(38862);var i=t(92741),n=t(15671),a=t(43144),r=(t(26699),t(32023),t(5212),t(41539),t(69826),t(70538)),o=t(54871),u=t(67541),l=function(){function e(){(0,n.Z)(this,e),this.state=r.default.observable({allUserRoles:u.I,allPermissions:o.Z,userImpersonationEnabled:!1,user:{parentRole:"",userRole:"",permissions:[],isAffiliate:!1,segmentManageCourses:[],hasSeats:[],hasUserGroups:[]},roleImpersonationEnabled:!1,userImpersonated:{parentRole:"",userRole:"",roleName:"",permissions:[],hasSeats:[],hasUserGroups:[]}});var s=this.getRoleImpersonationEnabledKey(),t=localStorage.getItem(s);null!==t&&(this.state.roleImpersonationEnabled="0"!==t),this.state.userImpersonationEnabled=!!window.userImpersonation}return(0,a.Z)(e,[{key:"getRoleImpersonationKey",value:function(){return"lw_role_impersonation_".concat(window.me.id)}},{key:"getUserRoleKey",value:function(){return"lw_role_".concat(window.me.id)}},{key:"getRoleKey",value:function(){return this.state.roleImpersonationEnabled?this.getRoleImpersonationKey():this.getUserRoleKey()}},{key:"getRoleImpersonationEnabledKey",value:function(){return"lw_role_impersonation_enabled_".concat(window.me.id)}},{key:"isRoleImpersonationEnabled",value:function(){return this.state.roleImpersonationEnabled}},{key:"isUserImpersonationEnabled",value:function(){return this.state.userImpersonationEnabled}},{key:"hasSystemPermission",value:function(e){var s,t;return this.state.roleImpersonationEnabled?null===(t=this.state.userImpersonated.permissions)||void 0===t?void 0:t.includes(e):null===(s=this.state.user.permissions)||void 0===s?void 0:s.includes(e)}},{key:"hasLwAdminRightsPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.lwAdminRights)}},{key:"hasBlogSetupRightsPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.blogSetup)}},{key:"hasSettingsCommunityManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.communitySettingsManage)}},{key:"hasCourseSettingsAdvancedPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.courseSettingsAdvanced)}},{key:"hasDashboardPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.dashboard)}},{key:"hasLiveSessionsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.liveSessionsView)}},{key:"hasLiveSessionsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.liveSessionManage)}},{key:"hasLiveSessionSetupPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.liveSessionSetup)}},{key:"hasCourseManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.courseManage)}},{key:"hasCourseCreateDeletePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.courseCreateDelete)}},{key:"hasCoursePublishPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.coursePublish)}},{key:"hasCoursePageManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.coursePageManage)}},{key:"hasCourseContentPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.courseContent)}},{key:"hasCourseSettingsPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.courseSettings)}},{key:"hasCourseViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.courseView)}},{key:"hasSiteManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.siteManage)}},{key:"hasAnyUsersManagePermission",value:function(){return this.hasUsersCreatePermission()||this.hasUsersAdvancedPermission()||this.hasUsersBasicPermission()||this.hasUsersUpdateProgressPermission()||this.hasUsersDeletePermission()}},{key:"hasUsersTagsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.usersTagsManage)}},{key:"hasUsersCreatePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.usersCreate)}},{key:"hasUsersAdvancedPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.usersAdvanced)}},{key:"hasUsersBasicPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.usersBasic)}},{key:"hasUsersUpdateProgressPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.usersUpdateProgress)}},{key:"hasUsersDeletePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.usersDelete)}},{key:"hasUsersSignupApprovalPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.usersSignupApproval)}},{key:"hasUsersViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.usersView)}},{key:"hasUsersBulkPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.usersBulk)}},{key:"hasCouponsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.couponsView)}},{key:"hasCouponsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.couponsManage)}},{key:"hasPlanPromotionsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.planPromotionsView)}},{key:"hasPlanPromotionsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.planPromotionsManage)}},{key:"hasBundlesViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.bundlesView)}},{key:"hasBundlesManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.bundlesManage)}},{key:"hasSubscriptionsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.subscriptionsView)}},{key:"hasSubscriptionsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.subscriptionsManage)}},{key:"hasLeadsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.leadsView)}},{key:"hasLeadsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.leadsManage)}},{key:"hasAffiliatesManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.affiliatesManage)}},{key:"hasAffiliateMarketingPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.affiliateMarketing)}},{key:"hasAnalyticsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.analyticsView)}},{key:"hasAnalyticsExportPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.analyticsExport)}},{key:"hasAnalyticsAllCoursesInsightsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.analyticsAllCoursesInsightsView)}},{key:"hasAnalyticsCourseInsightsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.analyticsCourseInsightsView)}},{key:"hasScheduleReportsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.scheduleReportsManage)}},{key:"hasGradebookManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.gradebookManage)}},{key:"hasGradebookViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.gradebookView)}},{key:"hasCertificatesManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.certificatesManage)}},{key:"hasCertificatesViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.certificatesView)}},{key:"hasAssignmentsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.assignmentsManage)}},{key:"hasAssignmentsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.assignmentsView)}},{key:"hasQuestionBankManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.questionBankManage)}},{key:"hasSalesManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.salesManage)}},{key:"hasSalesViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.salesView)}},{key:"hasActivityViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.activityView)}},{key:"hasTranslationsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.translationsManage)}},{key:"hasSettingsIntegrationManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.settingsIntegrationManage)}},{key:"hasSettingsWebhooksManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.settingsWebhooksManage)}},{key:"hasSettingsFinancialManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.settingsFinancialManage)}},{key:"hasSettingsNotificationManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.settingsNotificationManage)}},{key:"hasNotificationEmailsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.settingsNotificationEmailsManage)}},{key:"hasSettingsSchoolManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.settingsSchoolManage)}},{key:"hasSettingsResourcesManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.settingsResourcesManage)}},{key:"hasCommunityManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.communityManage)||this.hasSystemPermission(this.state.allPermissions.communityPostsManage)||this.hasSystemPermission(this.state.allPermissions.communitySpacesManage)||this.hasSystemPermission(this.state.allPermissions.courseContent)}},{key:"hasSettingsMobileManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.settingsMobileManage)}},{key:"hasAssessmentSurveyManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.assessmentSurveyManage)}},{key:"hasNpsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.npsManage)}},{key:"hasNpsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.npsView)}},{key:"hasQualificationManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.qualificationManage)}},{key:"hasLogInAsUserPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.userLoginAs)}},{key:"hasSiteSettingsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.siteSettingsManage)}},{key:"hasManageUserSegmentsPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.userSegmentsManage)}},{key:"hasUserRolesManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.userRolesManage)}},{key:"hasSeatOfferingManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.seatsOfferingManage)}},{key:"hasSeatOfferingViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.seatsOfferingView)}},{key:"hasSeatUsersManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.seatsUsersManage)}},{key:"hasSeatUsersViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.seatsUsersView)}},{key:"hasEmailsViewPermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.emailsView)}},{key:"hasEmailsManagePermission",value:function(){return this.hasSystemPermission(this.state.allPermissions.emailsManage)}},{key:"hasParentRole",value:function(e){return this.state.roleImpersonationEnabled?this.state.userImpersonated.parentRole===e:this.state.user.parentRole===e}},{key:"getParentRole",value:function(){return this.state.roleImpersonationEnabled?this.state.userImpersonated.parentRole:this.state.user.parentRole}},{key:"getUserRole",value:function(){return this.state.roleImpersonationEnabled?this.state.userImpersonated.userRole:this.state.user.userRole}},{key:"isCustomRole",value:function(){return this.state.roleImpersonationEnabled?this.state.userImpersonated.userRole!==this.getParentRole():this.state.user.userRole!==this.getParentRole()}},{key:"isParentRoleAdmin",value:function(){return this.hasParentRole(this.state.allUserRoles.admin)}},{key:"isParentRoleLwAdmin",value:function(){return this.hasParentRole(this.state.allUserRoles.lwAdmin)}},{key:"isParentRoleInstructor",value:function(){return this.hasParentRole(this.state.allUserRoles.instructor)}},{key:"isParentRoleSegment",value:function(){return this.hasParentRole(this.state.allUserRoles.segment)}},{key:"isParentRoleSeatManager",value:function(){return this.hasParentRole(this.state.allUserRoles.seatManager)}},{key:"isParentRoleUserGroupManager",value:function(){return this.hasParentRole(this.state.allUserRoles.seatManager)}},{key:"isParentRoleUserGroupSeatManager",value:function(){return this.isParentRoleUserGroupManager()||this.isParentRoleSeatManager()}},{key:"isParentRoleUser",value:function(){return this.getParentRole()===this.state.allUserRoles.user}},{key:"getSegmentManageCourses",value:function(){return this.state.user.segmentManageCourses}},{key:"hasSegmentManageCourseId",value:function(e){return this.state.user.segmentManageCourses.includes(e)}},{key:"isAffiliate",value:function(){return this.state.user.isAffiliate}},{key:"startPreviewRole",value:function(e,s,t,i){this.state.roleImpersonationEnabled=!0,this.state.userImpersonated.permissions=e,this.state.userImpersonated.parentRole=s,this.state.userImpersonated.userRole=t,this.state.userImpersonated.roleName=i;var n=this.getRoleImpersonationKey(),a={parentRole:s,userRole:t,roleName:i,permissions:e};localStorage.setItem(n,JSON.stringify(a));var r=this.getRoleImpersonationEnabledKey();localStorage.setItem(r,"1")}},{key:"stopPreviewRoleConfirm",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/author/user_roles?tab=Overview";showMessage("alert","Stop simulating the role","You are about to stop the simulation of the role ".concat(e),[{name:"Stop simulation",func:this.stopPreviewRole,args:[this,s]},{name:"Cancel"}])}},{key:"stopPreviewRole",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/author/user_roles?tab=Overview";e.state.userRoleImpersonationEnabled=!1,e.state.userImpersonated.permissions=[],e.state.userImpersonated.parentRole="",e.state.userImpersonated.userRole="",e.state.userImpersonated.roleName="";var t=e.getRoleImpersonationKey(),i={parentRole:"",userRole:"",roleName:"",permissions:[]};localStorage.setItem(t,JSON.stringify(i));var n=e.getRoleImpersonationEnabledKey();localStorage.setItem(n,"0"),s||(s="/author/user_roles?tab=Overview"),window.location.href=s}},{key:"getRoleImpersonationRoleName",value:function(){return this.state.userImpersonated.roleName}},{key:"startUserImpersonation",value:function(){this.state.userImpersonationEnabled=!0}},{key:"stopUserImpersonation",value:function(){this.state.userImpersonationEnabled=!1}},{key:"getUserPermissions",value:function(){return this.state.roleImpersonationEnabled?this.state.userImpersonated.permissions:this.state.user.permissions}},{key:"hasSeats",value:function(){return this.state.user.hasSeats}},{key:"hasUserGroups",value:function(){return this.state.user.hasUserGroups}},{key:"canUserManageCommunityStructure",value:function(){return this.hasSystemPermission(o.Z.communityManage)}},{key:"canUserManageCommunitySpaces",value:function(){return this.hasSystemPermission(o.Z.communitySpacesManage)}},{key:"canUserManageInSpace",value:function(e){return this.hasSystemPermission(o.Z.communitySpacesManage)||this.isManagerInStandalone(e)&&e.me_owner&&e.is_standalone}},{key:"canUserManagePostsInChannel",value:function(e){return this.hasSystemPermission(o.Z.communitySpacesManage)||this.isModeratorInSpace(e)||this.isInstructorInCourseDiscussion(e)||this.isManagerInStandalone(e)}},{key:"canUserMentionEveryone",value:function(e){return this.canUserManagePostsInChannel(e)}},{key:"canUserManageCourseActivityChannels",value:function(){return this.hasSystemPermission(o.Z.courseContent)}},{key:"isStaffInChannel",value:function(e){return this.hasSystemPermission(o.Z.communitySpacesManage)||this.isModeratorInSpace(e)||this.isManagerInStandalone(e)}},{key:"isModeratorInSpace",value:function(e){var s,t,i=(null!==(s=null===(t=window.me)||void 0===t?void 0:t.isModeratorIn)&&void 0!==s?s:[]).includes(null==e?void 0:e.id);return this.isAdminSpaceModerator()||this.hasSystemPermission(o.Z.communityPostsManage)&&i}},{key:"isInstructorInCourseDiscussion",value:function(e){var s;return(null!==(s=window.me.isInstructorIn)&&void 0!==s?s:[]).some((function(s){var t;return s.courseTitleId===(null!==(t=null==e?void 0:e.context)&&void 0!==t?t:null==e?void 0:e.titleId)}))}},{key:"isManagerInStandalone",value:function(e){var s;return!!e.is_standalone&&((null!==(s=window.me.isInstructorIn)&&void 0!==s?s:[]).some((function(s){var t,i,n=s.courseTitleId;return null==e||null===(t=e.usages)||void 0===t||null===(i=t.find)||void 0===i?void 0:i.call(t,(function(e){return n===e.courseTitleId}))}))||this.hasCourseContentPermission()&&this.isParentRoleAdmin())}},{key:"isAdminSpaceModerator",value:function(){return this.isParentRoleAdmin()&&this.hasSystemPermission(o.Z.communityPostsManage)}},{key:"hasPermissionToViewCourses",value:function(){return this.hasCourseViewPermission()||this.hasCourseSettingsPermission()||this.hasCourseContentPermission()||this.hasCoursePageManagePermission()||this.hasCourseSettingsAdvancedPermission()||this.hasCoursePublishPermission()}}]),e}(),m=new l,h=m.getRoleKey(),g=window.me.userPermissions,c=window.me.parentRole,P=window.me.userRole;function y(){h=m.getRoleKey();var e=localStorage.getItem(h);null!==e&&(e=JSON.parse(e),m.state.roleImpersonationEnabled?(m.state.userImpersonated.parentRole=e.parentRole,m.state.userImpersonated.userRole=e.userRole,m.state.userImpersonated.roleName=e.roleName,m.state.userImpersonated.permissions=e.permissions,m.state.userImpersonated.hasSeats=e.hasSeats,m.state.userImpersonated.hasUserGroups=e.hasUserGroups):(m.state.user.parentRole=e.parentRole,m.state.user.userRole=e.userRole,m.state.user.permissions=e.permissions,m.state.user.isAffiliate=e.isAffiliate,m.state.user.segmentManageCourses=e.segmentManageCourses,m.state.user.hasSeats=e.hasSeats,m.state.user.hasUserGroups=e.hasUserGroups))}m.state.user.permissions=g,m.state.user.parentRole=c,m.state.user.userRole=P,r.default.prototype.$lwGates=m,r.default.$lwGates=m,r.default.prototype.updateSystemPermissions=function(){y()},y();const f={install:function(e,s){window.me&&(m.state.roleImpersonationEnabled||i.Z.get(server+"user-roles/role/permissions").then((function(e){var s,t;if(e.data.errors&&e.data.errors.length>0)return showMessage("alert",window.LWTranslate.get("api.session_expired_title"),window.LWTranslate.get("api.session_expired_description"),[{name:"OK"}]);m.state.user.parentRole=e.data.data.parentRole,m.state.user.userRole=e.data.data.userRole,m.state.user.permissions=e.data.data.permissions,m.state.user.isAffiliate=e.data.data.isAffiliate,m.state.user.segmentManageCourses=null!==e.data.data.segmentManageCourses?e.data.data.segmentManageCourses:[],m.state.user.hasSeats=null===(s=e.data.data)||void 0===s?void 0:s.hasSeats,m.state.user.hasUserGroups=null===(t=e.data.data)||void 0===t?void 0:t.hasUserGroups,localStorage.setItem(h,JSON.stringify(m.state.user))})).catch((function(e){console.error(e.message)})))}}}}]);